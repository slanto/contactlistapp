<!DOCTYPE>
<html ng-app="myApp">
<head>
  <title>Contact List App</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
</head>
<body>
  <div class="container" ng-controller="AppCtrl">
    <h1>Contact list app {{totalAmount | currency}}</h1>

    <table class="table">
      <thead>
        <tr>
          <th>
            Name
          </th>
          <th>
            Email
          </th>
          <th>
            Amount
          </th>
          <th>
            Year
          </th>
          <th>
            Month
          </th>
          <th>
            Action
          </th>
          <th colspan="2">
            &nbsp;
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <input class="form-control" ng-model="contact.name">
          </td>
          <td>
            <input class="form-control" ng-model="contact.email">
          </td>
          <td>
            <input class="form-control" ng-model="contact.amount">
          </td>
          <td>
            <!-- <input class="form-control" ng-model="contact.year"> -->
            <select class="form-control" ng-model="contact.year" ng-options="year for year in years"></select>
          </td>
          <td>
            <!-- <select class="form-control" ng-model="contact.month">
              <option ng-repeat="month in months" value="{{month.id}}">{{month.name}}</option>
            </select> -->
            <select class="form-control" ng-model="contact.month" ng-options="parseInt(key) as value for (key, value ) in months">
            </select>
          </td>
          <td>
            <button type="button" class="btn btn-primary" ng-click="addContact()">Add Contact</button>
          </td>
          <td>
            <button type="button" class="btn btn-info" ng-click="update()">Update</button>
          </td>
          <td>
            <button type="button" class="btn btn-info" ng-click="clear()">Clear</button>
          </td>
        </tr>
        <tr ng-repeat="contact in contactlist">
          <td>
            {{contact.name}}
          </td>
          <td>
            {{contact.email}}
          </td>
          <td>
            {{contact.amount | currency}}
          </td>
          <td>
            {{contact.year}}
          </td>
          <td>
            {{contact.month | monthName}} <!-- date:'MMMM' -->
          </td>
          <td>
            <button type="button" class="btn btn-danger" ng-click="delete(contact._id)">Delete</button>
          </td>
          <td colspan="2">
            <button type="button" class="btn btn-warning" ng-click="edit(contact._id)">Edit</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js">
  </script>
  <script src="https://code.angularjs.org/1.4.5/i18n/angular-locale_pl-pl.js"></script>
  <script src="controllers/controller.js"></script>
</body>
</html>
