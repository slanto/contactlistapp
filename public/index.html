<!DOCTYPE>
<html ng-app="myApp">
<head>
  <title>Contact List App</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="/css/master.css" media="screen" title="no title" charset="utf-8">
</head>
<body>
  <div class="container" ng-controller="AppCtrl">
    <h1>Contact list app {{totalAmount | currency}}</h1>
    <form name="contactlistform" class="form-group">
      <table class="table">
      <thead>
        <tr>
          <th>
            Name
          </th>
          <th>
            Email
          </th>
          <th>
            Amount
          </th>
          <th>
            Year
          </th>
          <th>
            Month
          </th>
          <th>
            Action
          </th>
          <th colspan="2">
            &nbsp;
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <input type="text" class="form-control" ng-model="contact.name" required />
          </td>
          <td>
            <input type="email" class="form-control" ng-model="contact.email" required />
          </td>
          <td>
            <input type="number" step="0.01" class="form-control" ng-model="contact.amount" required />
          </td>
          <td>
            <!-- <input class="form-control" ng-model="contact.year"> -->
            <select class="form-control" ng-model="contact.year" ng-options="year for year in years" required></select>
          </td>
          <td>
            <!-- <select class="form-control" ng-model="contact.month">
              <option ng-repeat="month in months" value="{{month.id}}">{{month.name}}</option>
            </select> -->
            <select class="form-control" ng-model="contact.month" ng-options="parseInt(key) as value for (key, value ) in months" required>
            </select>
          </td>
          <td>
            <button type="button" class="btn btn-primary" ng-click="saveContact()" ng-disabled="contactlistform.$invalid">Save</button>
          </td>
          <td>
            <button type="button" class="btn btn-info" ng-click="update()">Update</button>
          </td>
          <td>
            <button type="button" class="btn btn-info" ng-click="addContact()">Add contact</button>
          </td>
        </tr>
        <tr ng-repeat="contact in contactlist">
          <td>
            {{contact.name}}
          </td>
          <td>
            {{contact.email}}
          </td>
          <td>
            {{contact.amount | currency}}
          </td>
          <td>
            {{contact.year}}
          </td>
          <td>
            {{contact.month | monthName}} <!-- date:'MMMM' -->
          </td>
          <td>
            <button type="button" class="btn btn-danger" ng-click="delete(contact._id)">Delete</button>
          </td>
          <td colspan="2">
            <button type="button" class="btn btn-warning" ng-click="edit(contact._id)">Edit</button>
          </td>
        </tr>
      </tbody>
    </table>
    </form>
  </div>
  <script src="/bower_components/angular/angular.min.js"></script>
  <script src="/bower_components/angular-i18n/angular-locale_pl-pl.js"></script>  
  <script src="controllers/controller.js"></script>
</body>
</html>
